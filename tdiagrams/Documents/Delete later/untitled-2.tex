\documentclass[landscape, 8pt]{report}
\usepackage{bussproofs}
\usepackage{extsizes}
\usepackage[landscape, top=1in,bottom=1in,left=0.0in,right=1.25in]{geometry}
\usepackage{amssymb}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{blindtext}
 
\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{lemma}{Lemma}

\title{Formal typesytem description}
\author{Ferdinand van Walree(3874389) and Matthew Swart(5597250) }
\date{\today}

\begin{document}

\maketitle
 
\section{Introduction}
This document serves as a formal description of the typesystem developed by Ferdinand van Walree en Matthew Swart. 

\section{Typesystem}
 

\section{Ty}
The Ty is a datatype that contains all the information about the type itself. 

\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(ty-prog)}
\UnaryInfC{$\Gamma \Vdash$ Program p l : (Ty Prog (just l) Nothing Nothing)}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(tyCons-prog)}
\UnaryInfC{$\Gamma \Vdash$ Program p l : Prog}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(ty-interp)}
\UnaryInfC{$\Gamma\Vdash$ Interpreter i l m : (Ty Interp (Just l) Nothing (Just m) }
\DisplayProof


\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(tyCons-interp)}
\UnaryInfC{$\Gamma \Vdash$ Interper i l m : Interp}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(ty-comp)}
\UnaryInfC{$\Gamma\Vdash$  Compiler c l1 l2 m : Comp (Just l1) (Just l2) (Just m) }
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(tyCons-comp)}
\UnaryInfC{$\Gamma \Vdash$ Compilerc l1 l2 ml : Comp}
\DisplayProof


\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(ty-platf)}
\UnaryInfC{Platform m : Ty PlatF Nothing Nothing (Just m) }
\DisplayProof


\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(tyCons-platf)}
\UnaryInfC{$\Gamma \Vdash$ Platform m : Platform}
\DisplayProof


\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(ty-execute)}
\UnaryInfC{$\Gamma\Vdash$ Execute d1 d2  : d2}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(tyCons-execute)}
\UnaryInfC{$\Gamma \Vdash$ Execute p l : Execute}
\DisplayProof


\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ ty: Ty ty2: Ty}
\RightLabel{\scriptsize(ty-compile)}
\UnaryInfC{$\Gamma \Vdash$ Compiler d1 d2:  translate}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(tyCons-compile)}
\UnaryInfC{$\Gamma \Vdash$ Compile d1 d2 : Compiled}
\DisplayProof


\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(t-ProgTyCons)}
\UnaryInfC{$\Gamma\Vdash$ Prog : TyCons}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(t-InterpTyCons)}
\UnaryInfC{$\Gamma\Vdash$ Interp : TyCons}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(t-CompTyCons)}
\UnaryInfC{$\Gamma\Vdash$ Comp : TyCons}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(t-PlatfTyCons)}
\UnaryInfC{$\Gamma\Vdash$ PlatF : TyCons}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{}
\RightLabel{\scriptsize(t-ProgTyCons)}
\UnaryInfC{$\Gamma\Vdash$ Prog : TyCons}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\section{checkRunnable}
The checkRunnable is used to refuse a platform that is being executed or compiled. 

\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ t1 : TyCons $\Gamma\Vdash$  t2 : Runnable}
\UnaryInfC{match-prog-runnable $\bigvee$ match-interp-runnable $\bigvee$ match-comp-runnable $\bigvee$ match-eq-t1-t2}
\RightLabel{\scriptsize(checkrunnable-True)}
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ t1 : TyCons $\Gamma\Vdash$  t2 : Runnable}
\UnaryInfC{match-nq-t1-t2}
\RightLabel{\scriptsize(checkrunnable-False)}
\UnaryInfC{$\Gamma \Vdash$ ill-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\section{checkComp}
The checkComp is used to only accept a compiler when its type is Comp, because a Compile needs a compiler to compile.

\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ t1 : TyCons $\Gamma\Vdash$  t2 : Comp}
\UnaryInfC{$\Gamma\Vdash$ match-eq-t1-t2 : True}
\RightLabel{\scriptsize(checkComp-True)}
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ t1 : TyCons $\Gamma\Vdash$  t2 :  (not Comp)}
\RightLabel{\scriptsize(checkComp-False)}
\UnaryInfC{$\Gamma \Vdash$ ill-typed }
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\section{checkExeInComp}
The checkExeInComp is used to refuse when a executed is in the compiler.   

\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ t1 : TyCons $\Gamma\Vdash$  t2 : Executed}
\RightLabel{\scriptsize(checkExeInComp-True)}
\UnaryInfC{$\Gamma \Vdash$ match-eq-t1-t2 : True }
\UnaryInfC{$\Gamma \Vdash$ ill-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ ty1 : TyCons $\Gamma\Vdash$  t2 : Executed}
\RightLabel{\scriptsize(checkExeInComp-True)}
\UnaryInfC{$\Gamma \Vdash$ match-nq-t1-t2 }
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\section{checkExeOrComp}
The checkExeOrComp is used to refuse an executed or compiled in an Execute. 

\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ t1 : TyCons ($\Gamma\Vdash$  t1 : Executed  $\bigvee \Gamma\Vdash$  t2 : Compiled)}
\RightLabel{\scriptsize(checkExeOrComp-false)}
\UnaryInfC{$\Gamma \Vdash$ ill-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ t1 : TyCons ($\Gamma\Vdash$  t1 : Executed  $\bigvee \Gamma\Vdash$  t2 : Compiled)}
\RightLabel{\scriptsize(checkExeOrComp-ture)}
\UnaryInfC{$\Gamma \Vdash$ match-nq-t1-t2 }
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\section{checkFramework}
The checkFramework is used to only accept in the Execute a Interpeter or a Platform.

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ t1 : TyCons $\Gamma \Vdash$ t2 : Framework }
\UnaryInfC{match-platf-framework $\bigvee$ match-interp-framework $\bigvee$ match-eq-t1-t2}
\RightLabel{\scriptsize(checkFramework-True)}
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma \Vdash$  t1 : TyCons $\Gamma \Vdash$  t2 : Framework}
\UnaryInfC{match-nq-t1-t2}
\RightLabel{\scriptsize(checkFramework-False)}
\UnaryInfC{$\Gamma \Vdash$ ill-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break



\section{Match}
The match is used to pattern match on what is possible and what is not.\\

\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ Prog : TyCons $\Gamma \Vdash$ Runnable : TyCons}
\RightLabel{\scriptsize(match-prog-runnable)}
\UnaryInfC{$\Gamma \Vdash$ True : Bool}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ Interp : TyCons $\Gamma \Vdash$ Runnable : TyCons}
\RightLabel{\scriptsize(match-interp-runnable)}
\UnaryInfC{$\Gamma \Vdash$ True : Bool}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ Comp : TyCons $\Gamma \Vdash$ Runnable : TyCons}
\RightLabel{\scriptsize(match-comp-runnable)}
\UnaryInfC{$\Gamma \Vdash$ True : Bool}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ Interp : TyCons $\Gamma \Vdash$ Framework : TyCons}
\RightLabel{\scriptsize(match-interp-framework)}
\UnaryInfC{$\Gamma \Vdash$ True : Bool}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ PlatF : TyCons $\Gamma \Vdash$ Framework : TyCons}
\RightLabel{\scriptsize(match-platf-framework)}
\UnaryInfC{$\Gamma \Vdash$ True : Bool}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ t1: TyCons $\Gamma \Vdash$ t2: TyCons}
\RightLabel{\scriptsize(match-eq-t1-t2)}
\UnaryInfC{$\Gamma \Vdash$ t1 $\equiv$ t2 : Bool}
\UnaryInfC{$\Gamma \Vdash$ True : Bool}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma \Vdash$ t1: TyCons $\Gamma \Vdash$ t2: TyCons}
\RightLabel{\scriptsize(match-nq-t1-t2)}
\UnaryInfC{$\Gamma \Vdash$ t1 $\neq$ t2 : Bool}
\UnaryInfC{$\Gamma \Vdash$ False : Bool}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\section{Match info}
matchInfo is used to compare two values, so we can tell if a source, platform or target language are equal. 

\hfill \break
\hfill \break
\hfill \break


\AxiomC{matchInfo-eq $\bigvee$ matchInfo-gen}
\RightLabel{\scriptsize(matchInfo)}
\UnaryInfC{$\Gamma \Vdash$ True : Bool}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ just i : Maybe Ident   $\Gamma \Vdash$ just j $\Gamma \Vdash$ Maybe Ident}
\RightLabel{\scriptsize( matchInfo-eq)}
\UnaryInfC{$\Gamma \Vdash$ i $\equiv$ j : Bool}
\UnaryInfC{$\Gamma \Vdash$ True : Bool}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ just i : Maybe Ident    $\Gamma \Vdash$ just j $\Gamma \Vdash$ Maybe Ident}
\RightLabel{\scriptsize(matchInfo-nq)}
\UnaryInfC{$\Gamma \Vdash$ i $\neq$ j : Bool}
\UnaryInfC{$\Gamma \Vdash$ False : Bool}
\DisplayProof


\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma$  $\Gamma \Vdash$ m1 : Maybe Ident   $\Gamma \Vdash$ m2: Maybe Ident}
\RightLabel{\scriptsize(matchInfo-gen)}
\UnaryInfC{$\Gamma \Vdash$ True : Bool}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\section{Translate}
The translate is used to get the correct Ty for the Compile. 

\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ (Ty Prog s1 t1 m1)   $\Gamma \Vdash$ (Ty comp s2 t2 m2)}
\RightLabel{\scriptsize(translate-prog-comp)}
\UnaryInfC{$\Gamma \Vdash$ Ty prog t2 t1 m1}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ (Ty Interp s2 t2 m2)   $\Gamma \Vdash$ (Ty comp s2 t2 m2)}
\RightLabel{\scriptsize(translate-interp-comp)}
\UnaryInfC{$\Gamma \Vdash$ Ty prog s1 t1 t2}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$(Ty comp s1 t1 m1)  $\Gamma \Vdash$ (Ty comp s2 t2 m2)}
\RightLabel{\scriptsize(translate-comp-comp)}
\UnaryInfC{$\Gamma \Vdash$ Ty comp s1 t1 t2}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\section{Checkifmatch}
In the checkmatch we check on each type combination if it’s being executed, compiled or interpreted on the same language as the source, target or platform. We use the matchInfo for this.

\hfill \break
\hfill \break
\hfill \break



\AxiomC{$\Gamma\Vdash$(Ty Comp s1 t1 m1)   $\Gamma \Vdash$ (Ty Interp s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-prog-interp)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-True}
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ (Ty Comp s1 t1 m1)   $\Gamma \Vdash$ (Ty Interp s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-prog-interp-ill)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-False}
\UnaryInfC{$\Gamma \Vdash$ ill-typed}
\DisplayProof


\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$(Ty Comp s1 t1 m1)   $\Gamma \Vdash$ (Ty Interp s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-prog-interp)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-True}
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ ty1 : Ty   $\Gamma \Vdash$ (Ty Interp s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-unknown-interp)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-True}
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof


\hfill \break
\hfill \break
\hfill \break



\AxiomC{$\Gamma\Vdash$ ty1: Ty   $\Gamma \Vdash$ (Ty Interp s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-unknown-interp-ill)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-False}
\UnaryInfC{$\Gamma \Vdash$ ill-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ (Ty Prog s1 t1 m1)   $\Gamma \Vdash$ (Ty PlatF s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-prog-platf)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-True}
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ (Ty Prog s1 t1 m1)   $\Gamma \Vdash$ (Ty PlatF s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-prog-platf-ill)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-False}
\UnaryInfC{$\Gamma \Vdash$ ill-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ ty1 : Ty  $\Gamma \Vdash$ (Ty PlatF s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-unknown-platfl)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-True}
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof


\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ ty1 : Ty   $\Gamma \Vdash$ (Ty PlatF s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-unknown-platf-ill)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-False}
\UnaryInfC{$\Gamma \Vdash$ ill-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break


\AxiomC{$\Gamma\Vdash$ (Ty Prog s1 t1 m1)   $\Gamma \Vdash$ (Ty Comp s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-prog-comp)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-True}
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ (Ty Prog s1 t1 m1)   $\Gamma \Vdash$ (Ty Comp s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-prog-comp-ill)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-False}
\UnaryInfC{$\Gamma \Vdash$ ill-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break



\AxiomC{$\Gamma\Vdash$ ty1: Ty  $\Gamma \Vdash$ (Ty Comp s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-unknown-comp)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-True}
\UnaryInfC{$\Gamma \Vdash$ correct-typed}
\DisplayProof

\hfill \break
\hfill \break
\hfill \break

\AxiomC{$\Gamma\Vdash$ ty1 : Ty  $\Gamma \Vdash$ (Ty comp s2 t2 m2)}
\RightLabel{\scriptsize(checkifmatch-unkown-comp-ill)}
\UnaryInfC{$\Gamma \Vdash$ matchinfo-False}
\UnaryInfC{$\Gamma \Vdash$ ill-typed}
\DisplayProof

\end{document}